<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      /* .dynamic-width {
        position: relative;
        margin: 0.5rem;

        &::after {
          content: attr(data-content);
          position: absolute;
          top: 0;
          left: 0;
          width: auto; 
          height: 100%;
          background-color: var(--base-color);
        }
      } */
      h1::after {
        content: " ";
        display: inline-block;
        height: 1px;
        background-color: blue;
        width: 100%; /* Adjust as needed */
      }

      h2::after {
        content: " ";
        display: inline-block;
        height: 1px;
        background-color: blue;
        width: 80%; /* Adjust as needed */
      }

      h5::after {
        content: " ";
        display: inline-block;
        height: 1px;
        background-color: blue;
        width: 60%; /* Adjust as needed */
      }
    </style>
  </head>
  <body>
    <h1 class="dynamic-width" data-content="Text for h1">Heading 1</h1>
    <h2 class="dynamic-width" data-content="Some text for h2">Heading 2</h2>
    <h5 class="dynamic-width" data-content="Longer text for h5">Heading 5</h5>
    <!-- <script>
      const headings = document.querySelectorAll(".dynamic-width");

      headings.forEach((heading) => {
        const content = heading.getAttribute("data-content");
        const textWidth = getTextWidth(content);

        heading.style.position = "relative";
        heading.style.overflow = "hidden"; // Ensure the text doesn't overflow

        heading.style.setProperty("--base-color", "lightblue"); // Set your base color here
        heading.style.setProperty("--text-width", `${textWidth}px`); // Set text width as a CSS variable
      });

      function getTextWidth(text) {
        const span = document.createElement("span");
        span.style.visibility = "hidden";
        span.style.position = "absolute";
        span.style.whiteSpace = "nowrap";
        span.textContent = text;
        document.body.appendChild(span);
        const width = span.getBoundingClientRect().width;
        document.body.removeChild(span);
        return width;
      }
    </script> -->
  </body>
</html>
